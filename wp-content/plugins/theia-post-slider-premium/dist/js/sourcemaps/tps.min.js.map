{"version":3,"sources":["tps.min.js"],"names":["tps","slideshowsOnPage","createSlideshowDefaults","slideContainer","nav","navText","helperText","defaultSlide","transitionEffect","transitionSpeed","keyboardShortcuts","scrollAfterRefresh","numberOfSlides","slides","useSlideSources","themeType","prevPost","nextPost","prevText","nextText","buttonWidth","prevText_post","nextText_post","buttonWidth_post","onShowPost","postUrl","postId","refreshAds","refreshAdsEveryNSlides","adRefreshingMechanism","ajaxUrl","loopSlides","scrollTopOffset","isRtl","excludedWords","createSlideshow","options","i","j","me","this","$","jQuery","extend","isNaN","value","parseFloat","length","navEl","e","get","push","container","currentPostId","isLoading","slidesSinceLastAdRefresh","remoteLoadingQueue","async","queue","task","callback","currentSlide","currentlyDisplayedSlide","animations","semaphore","asyncQueue","incrementSemaphore","pause","decrementSemaphore","resume","init","loadScrollTop","source","content","html","children","each","index","slide","title","document","permalink","location","href","detach","text","find","prev","click","event","onNavClick","next","shortCodeTitle","mousedown","addClass","mouseup","removeClass","setSlide","history","window","History","enabled","Adapter","bind","state","getState","undefined","data","Hammer","previousTouch","minimumTimeBetweenGestures","defaults","cssProps","userSelect","inputClass","TouchInput","on","t","Date","getTime","setNext","setPrev","keydown","target","test","nodeName","type","prop","which","loadSlides","name","err","allSlidesAreLoaded","concurrency","ajax","method","dataType","action","url","success","console","error","complete","isCallback","needToRefreshPage","saveScrollTop","addQueryString","trigger","isSlideLoaded","showLoading","hideLoading","slideContent","word","trim","indexOf","previousSlide","scrollTop","offset","top","Math","min","max","animate","updateTitleText","a","createElement","protocol","host","pathname","search","hash","replaceState","pushState","showSlide","updateNavigationBars","direction","slideToPreload","path","split","slice","join","gtag","tag","dataLayer","page_path","_gaq","__gaTracker","ga","pageTracker","_trackPageview","piwikTracker","trackPageView","sc_project","sc_security","Image","src","_qacct","previousIndex","createSlideContentFromSource","animationsQueue","transitions","unshift","onRemovedSlide","onNewSlide","not","one","distance","b","d","attr","hide","fadeIn","replaceWith","c","events","handler","_wpmejsSettings","mediaelementplayer","instgrm","Embeds","process","slideId","remove","p","pubService","googletag","pubads","refresh","replace","updateNavigationBarButton","width","html1","html2","html3","directionName","buttonEl","jumpToSlide","css","that","$that","focus","preventDefault","isHtml5StorageAvailable","localStorage","setItem","JSON","stringify","parse","getItem","removeItem","showPost","setTransition","effect","speed","setNavText","setTitleText","append","query","substr"],"mappings":"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","file":"../tps.min.js","sourcesContent":["/*\n * Copyright 2012-2020, Theia Post Slider, WeCodePixels, https://wecodepixels.com\n */\nvar tps = tps || {};\ntps.slideshowsOnPage = 0;\ntps.createSlideshowDefaults = {\n    slideContainer: '',\n    nav: [],\n    navText: '%{currentSlide} of %{totalSlides}',\n    helperText: '',\n    defaultSlide: 0,\n    transitionEffect: 'none',\n    transitionSpeed: 400,\n    keyboardShortcuts: false,\n    scrollAfterRefresh: true,\n    numberOfSlides: 0, // Total number of slides, including the ones not loaded.\n    slides: [],\n    useSlideSources: false,\n    themeType: 'classic',\n    prevPost: null,\n    nextPost: null,\n    prevText: null,\n    nextText: null,\n    buttonWidth: 0,\n    prevText_post: null,\n    nextText_post: null,\n    buttonWidth_post: 0,\n    onShowPost: null,\n    postUrl: null,\n    postId: null,\n    refreshAds: false,\n    refreshAdsEveryNSlides: 1,\n    adRefreshingMechanism: 'javascript',\n    ajaxUrl: '/',\n    loopSlides: false,\n    scrollTopOffset: 0,\n    isRtl: false,\n    excludedWords: []\n};\ntps.createSlideshow = function (options) {\n    var i, j;\n    var me = this;\n    var $ = jQuery;\n\n    // Merge options with defaults and sanitize values.\n    me.options = $.extend(tps.createSlideshowDefaults, options);\n    for (i in me.options) {\n        // If the default is a number and the option is a string, then convert it to a number if possible.\n        if (!isNaN(tps.createSlideshowDefaults[i]) && (typeof me.options[i] == 'string')) {\n            var value = parseFloat(me.options[i]);\n            if (!isNaN(value)) {\n                me.options[i] = value;\n            }\n        }\n    }\n\n    me.slides = [];\n    me.slideContainer = $(me.options.slideContainer);\n    if (me.slideContainer.length == 0) {\n        return null;\n    }\n\n    tps.slideshowsOnPage++;\n    me.navEl = [];\n    for (i = 0; i < me.options.nav.length; i++) {\n        var e = $(me.options.nav[i]).get();\n        for (j = 0; j < e.length; j++) {\n            me.navEl.push({\n                container: $(e[j])\n            });\n        }\n    }\n\n    // Initialize variables.\n    me.currentPostId = me.options.postId;\n    me.isLoading = false;\n    me.slidesSinceLastAdRefresh = 0;\n\n    // Remote loading queue.\n    me.remoteLoadingQueue = async.queue(function (task, callback) {\n        callback();\n    }, 1);\n\n    // The current slide.\n    me.currentSlide = null;\n\n    // The slide that is currently displayed. This may lag behind \"me.currentSlide\" because of the animations.\n    me.currentlyDisplayedSlide = null;\n\n    // The number of animations that are currently running.\n    me.animations = 0;\n\n    // A queue that is executed when no animation is running.\n    me.semaphore = 0;\n    me.asyncQueue = async.queue(function (task, callback) {\n        callback();\n    }, 1);\n\n    me.incrementSemaphore = function () {\n        me.asyncQueue.pause();\n        me.semaphore++;\n    };\n\n    me.decrementSemaphore = function () {\n        me.semaphore--;\n        if (me.semaphore == 0) {\n            me.asyncQueue.resume();\n        }\n    };\n\n    // Initialization function\n    me.init = function () {\n        var i;\n\n        // Load scroll position, if available.\n        me.loadScrollTop();\n\n        // Get slides from me.options.slides\n        for (i in me.options.slides) {\n            if ('content' in me.options.slides[i]) {\n                if (me.options.useSlideSources) {\n                    me.options.slides[i].source = me.options.slides[i].content;\n                }\n\n                me.options.slides[i].content = $('<div>').html(me.options.slides[i].content);\n            }\n\n            me.slides[i] = me.options.slides[i];\n        }\n        me.options.slides = null;\n\n        // Get slides from HTML. The first slide is considered the default one, while the rest are detached.\n        me.slideContainer.children('.theiaPostSlider_preloadedSlide').each(function (index, slide) {\n            index = me.options.defaultSlide + index;\n            slide = $(slide);\n            me.slides[index] = me.slides[index] || {};\n            me.slides[index].title = document.title;\n            me.slides[index].permalink = document.location.href;\n            me.slides[index].content = slide;\n\n            if (index != me.options.defaultSlide) {\n                slide.detach();\n            }\n        });\n\n        // Count the slides.\n        me.numberOfSlides = me.options.numberOfSlides;\n\n        // Setup the navigation bars.\n        for (i = 0; i < me.navEl.length; i++) {\n            var navEl = me.navEl[i];\n            navEl.text = navEl.container.find('._text');\n            navEl.prev = navEl.container.find('._prev')\n                .click(function (me) {\n                    return function (event) {\n                        me.onNavClick(this, 'prev', event);\n                    }\n                }(me));\n            navEl.next = navEl.container.find('._next')\n                .click(function (me) {\n                    return function (event) {\n                        me.onNavClick(this, 'next', event);\n                    }\n                }(me));\n\n            navEl.title = navEl.container.find('._title');\n\n            // Get the default slide's title. The title will be the same for all navigation bars, so get it only from the first.\n            if (i === 0) {\n                me.slides[me.options.defaultSlide].shortCodeTitle = navEl.title.html();\n            }\n\n            /*\n             Add _active class on mousedown. This is a fix for IE and Opera which don't match :active on container elements.\n             Also, return false to prevent double click context menu in Opera.\n             */\n            navEl.container.find('._prev, ._next')\n                .mousedown(function () {\n                    $(this).addClass('_active');\n                })\n                .mouseup(function () {\n                    $(this).removeClass('_active');\n                });\n        }\n\n        // Skip loading the slide if we're not going to display another one anyway.\n        if (me.numberOfSlides == 1 || (me.options.refreshAds && me.options.adRefreshingMechanism == 'page' && me.options.refreshAdsEveryNSlides <= 1)) {\n            me.currentSlide = me.options.defaultSlide;\n        }\n        else {\n            // Show the first slide\n            me.setSlide(me.options.defaultSlide);\n\n            // Add history handler.\n            var history = window.History;\n            if (history.enabled) {\n                history.Adapter.bind(window, 'statechange', function (me) {\n                    return function () {\n                        var state = History.getState();\n                        if (state.data.currentPostId != undefined) {\n                            if (state.data.currentSlide != undefined) {\n                                me.setSlide(state.data.currentSlide);\n                            }\n                            else {\n                                me.setSlide(me.options.defaultSlide);\n                            }\n                        }\n                    };\n                }(me));\n            }\n        }\n\n        // Set up touch events.\n        if (typeof Hammer !== 'undefined') {\n            me.previousTouch = 0;\n            me.minimumTimeBetweenGestures = 500;\n\n            // Eanble text selection.\n            delete Hammer.defaults.cssProps.userSelect;\n\n            // Create hammer.js instance.\n            var hammertime = new Hammer(me.slideContainer[0], {\n                inputClass: Hammer.TouchInput\n            });\n\n            hammertime\n                .on('swipeleft', function () {\n                    var t = (new Date).getTime();\n                    if (t - me.minimumTimeBetweenGestures >= me.previousTouch) {\n                        me.setNext();\n                        me.previousTouch = t;\n                    }\n                })\n                .on('swiperight', function () {\n                    var t = (new Date).getTime();\n                    if (t - me.minimumTimeBetweenGestures >= me.previousTouch) {\n                        me.setPrev();\n                        me.previousTouch = t;\n                    }\n                });\n        }\n\n        // Enable keyboard shortcuts\n        if (me.options.keyboardShortcuts) {\n            $(document).keydown(function (me) {\n                return function (e) {\n                    // Disable shortcut if there is more than one slideshow on the page.\n                    if (tps.slideshowsOnPage > 1) {\n                        return true;\n                    }\n\n                    // Disable shortcut if the target element is editable (input boxes, textareas, etc.).\n                    if (\n                        this !== e.target &&\n                        (\n                            /textarea|select/i.test(e.target.nodeName) ||\n                            e.target.type === \"text\" ||\n                            (\n                                $(e.target).prop &&\n                                $(e.target).prop('contenteditable') == 'true'\n                            )\n                        )\n                    ) {\n                        return true;\n                    }\n\n                    switch (e.which) {\n                        case 37:\n                            me.navEl[0].prev[0].click();\n                            return false;\n\n                        case 39:\n                            me.navEl[0].next[0].click();\n                            return false;\n                    }\n\n                    return true;\n                };\n            }(me));\n        }\n    };\n\n    // Load slides remotely\n    me.loadSlides = function (slides, callback) {\n        me.remoteLoadingQueue.push({name: ''}, function (me, slides, callback) {\n            return function (err) {\n                // Check if the slides are already loaded.\n                var allSlidesAreLoaded = true;\n                for (var i in slides) {\n                    if (!(slides[i] in me.slides) || !('content' in me.slides[slides[i]])) {\n                        allSlidesAreLoaded = false;\n                        break;\n                    }\n                }\n                if (allSlidesAreLoaded) {\n                    if (callback) {\n                        callback();\n                    }\n                    return;\n                }\n\n                // Load the slides and don't load anything else in the meantime.\n                me.remoteLoadingQueue.concurrency = 0;\n                $.ajax({\n                    method: 'POST',\n                    dataType: 'json',\n                    data: {\n                        action: 'tps_get_slides',\n                        postId: me.currentPostId,\n                        slides: slides\n                    },\n                    url: me.options.ajaxUrl,\n                    success: function (me) {\n                        return function (data) {\n                            if (!data) {\n                                return;\n                            }\n                            if (data.postId == me.currentPostId) {\n                                // Add each slide.\n                                for (var i in data.slides) {\n                                    if (!(i in me.slides)) {\n                                        me.slides[i] = {};\n                                    }\n\n                                    // Add content.\n                                    if ('content' in data.slides[i]) {\n                                        if (me.options.useSlideSources) {\n                                            data.slides[i].source = data.slides[i].content;\n                                        }\n\n                                        data.slides[i].content = $('<div>').html(data.slides[i].content);\n                                    }\n\n                                    // Overwrite old data with new data.\n                                    for (var j in data.slides[i]) {\n                                        me.slides[i][j] = data.slides[i][j];\n                                    }\n                                }\n                            }\n                            else {\n                                console.error('Received AJAX results for a different post ID.');\n                            }\n                        };\n                    }(me),\n                    complete: function (me, callback) {\n                        return function () {\n                            if (callback) {\n                                callback();\n                            }\n                            me.remoteLoadingQueue.concurrency = 1;\n                            me.remoteLoadingQueue.push({});\n                        };\n                    }(me, callback)\n                });\n            };\n        }(me, slides, callback));\n    };\n\n    // Set the current slide.\n    me.setSlide = function (index, isCallback) {\n        if (me.isLoading == true && isCallback != true) {\n            return;\n        }\n\n        // Is the slide already displayed?\n        if (me.currentSlide == index) {\n            return;\n        }\n\n        // Do we need to refresh the ads by refreshing the entire page?\n        if (me.needToRefreshPage() && index in me.slides) {\n            me.saveScrollTop();\n            window.location = me.addQueryString(me.slides[index].permalink);\n\n            return;\n        }\n\n        // Fire events.\n        try {\n            $(document).trigger('theiaPostSlider.willChangeSlide', [index]);\n        }\n        catch (e) {\n            console.error(e);\n        }\n\n        // Is the slide not yet loaded?\n        if (!me.isSlideLoaded(index)) {\n            if (!isCallback) {\n                me.showLoading();\n                me.loadSlides([index], function (me, index) {\n                    return function () {\n                        me.hideLoading();\n                        me.setSlide(index, true);\n                    }\n                }(me, index));\n\n                return;\n            }\n            else {\n                // The slide could not be loaded via AJAX. Abort.\n                console.error(\"The slide could not be loaded via AJAX.\");\n                return;\n            }\n        }\n\n        var slideContent = me.slides[index].source;\n        if (slideContent) {\n            for (i = 0; i < me.options.excludedWords.length; i++) {\n                var word = me.options.excludedWords[i];\n\n                // Check if word is actually a string.\n                if (typeof word !== 'string') {\n                    continue;\n                }\n\n                // Trim string.\n                word = word.trim();\n\n                // Length must be at least one.\n                if (word.length == 0) {\n                    continue;\n                }\n\n                // Search for string and redirect if necessary.\n                if (slideContent.indexOf(word) !== -1) {\n                    me.showLoading();\n                    window.location = me.addQueryString(me.slides[index].permalink);\n\n                    return;\n                }\n            }\n        }\n\n        var previousSlide = me.currentSlide;\n        me.currentSlide = index;\n\n        if (previousSlide != null) {\n            var i;\n\n            // Scroll the window up, if the beginning of the slide is out-of-view.\n            // Get the lowest offset.top\n            var scrollTop = me.slideContainer.offset().top;\n            for (i = 0; i < me.navEl.length; i++) {\n                scrollTop = Math.min(scrollTop, me.navEl[i].container.offset().top);\n            }\n            scrollTop += me.options.scrollTopOffset;\n            scrollTop = Math.max(0, scrollTop);\n            if ($(window).scrollTop() > scrollTop) {\n                $('body,html').animate({scrollTop: scrollTop});\n            }\n\n            // Remove number class.\n            for (i = 0; i < me.navEl.length; i++) {\n                var navEl = me.navEl[i];\n                navEl.container.removeClass('_slide_number_' + previousSlide);\n            }\n        }\n\n        // Set the title text.\n        me.updateTitleText();\n\n        // Change URL, but only if this isn't the first slide set (i.e. the default slide).\n        var history = window.History;\n        if (history.enabled) {\n            var url = me.slides[me.currentSlide].permalink;\n\n            // Replace protocol and domain (e.g. using CloudFlare's HTTPS from an HTTP source).\n            var a = document.createElement('a');\n            a.href = url;\n            url = me.addQueryString(window.location.protocol + '//' + window.location.host + a.pathname + a.search) + a.hash;\n\n            if (url && previousSlide !== null) {\n                var f;\n                if (url == window.location) {\n                    f = history.replaceState;\n                }\n                else {\n                    f = history.pushState;\n                }\n                f({\n                    currentSlide: index,\n                    currentPostId: me.currentPostId\n                }, me.slides[me.currentSlide].title, url);\n            }\n        }\n\n        // Show the slide.\n        me.asyncQueue.push({name: ''}, me.showSlide);\n\n        // Set the navigation bars.\n        me.updateNavigationBars();\n\n        // Preload, but only if we don't have to refresh the page immediately after.\n        if (\n            !(\n                me.options.refreshAds &&\n                me.slidesSinceLastAdRefresh + 1 >= me.options.refreshAdsEveryNSlides &&\n                me.options.adRefreshingMechanism == 'page'\n            )\n        ) {\n            // Direction is either +1 if the user is browsing forward (i.e. using the \"next\" button), or -1 otherwise.\n            var direction;\n            if (previousSlide == null) {\n                direction = 1;\n            }\n            else if (me.currentSlide == 0 && previousSlide == me.numberOfSlides - 1) {\n                direction = 1;\n            }\n            else if (me.currentSlide == me.numberOfSlides - 1 && previousSlide == 0) {\n                direction = -1;\n            }\n            else {\n                direction = me.currentSlide - previousSlide;\n                direction = Math.max(Math.min(direction, 1), -1);\n            }\n\n            var slideToPreload = me.currentSlide + direction;\n\n            // If the loop-slides settings is activated, also preload the first/last slide when applicable.\n            if (slideToPreload == -1 && me.options.loopSlides) {\n                slideToPreload = me.numberOfSlides - 1;\n            }\n            else if (slideToPreload == me.numberOfSlides && me.options.loopSlides) {\n                slideToPreload = 0;\n            }\n\n            if (\n                slideToPreload >= 0 &&\n                slideToPreload < me.numberOfSlides && !me.isSlideLoaded((slideToPreload))\n            ) {\n                me.loadSlides([slideToPreload]);\n            }\n\n        }\n    };\n\n    // Show (display) the current slide using the chosen animation.\n    me.showSlide = function () {\n        // Don't do anything if the current slide is already shown.\n        if (me.currentlyDisplayedSlide == me.currentSlide) {\n            return;\n        }\n\n        // Track the pageview if this isn't the first slide displayed.\n        if (me.currentlyDisplayedSlide != null && me.slides[me.currentSlide]['permalink']) {\n            // URL Path\n            var path = me.slides[me.currentSlide]['permalink'].split('/');\n            if (path.length >= 4) {\n                path = '/' + path.slice(3).join('/');\n\n                // Global Site Tag (gtag.js)\n                // See: https://developers.google.com/analytics/devguides/collection/gtagjs/migration\n                if (typeof gtag !== 'undefined') {\n                    // Search for UA tag.\n                    var tag = '';\n                    for (var i = 0; i < window.dataLayer.length; i++) {\n                        if (window.dataLayer[i].length >= 1 && window.dataLayer[i][0] === 'config') {\n                            tag = window.dataLayer[i][1];\n                            break;\n                        }\n                    }\n                    gtag('config', tag, {\n                        'page_path': path\n                    });\n                }\n                // Google Analytics (ga.js, deprecated, but preferred if available)\n                // If using both old and new versions, the new version sometimes does not work.\n                // See http://stackoverflow.com/questions/18696998/ga-or-gaq-push-for-google-analytics-event-tracking\n                else if (typeof _gaq !== 'undefined' && typeof _gaq.push !== 'undefined') {\n                    _gaq.push(['_trackPageview', path]);\n                }\n                // Google Analytics by Yoast, which renames the \"ga\" variable.\n                else if (typeof __gaTracker !== 'undefined') {\n                    __gaTracker('set', 'page', path);\n                    __gaTracker('send', 'pageview', path);\n                }\n                // Google Analytics (Analytics.js).\n                else if (typeof ga !== 'undefined') {\n                    ga('set', 'page', path);\n                    ga('send', 'pageview', path);\n                }\n                // Google Analytics Traditional.\n                else if (typeof pageTracker !== 'undefined' && typeof pageTracker._trackPageview !== 'undefined') {\n                    pageTracker._trackPageview(path);\n                }\n\n                // Piwik\n                if (typeof piwikTracker !== 'undefined' && typeof piwikTracker.trackPageView !== 'undefined') {\n                    piwikTracker.trackPageView(path);\n                }\n\n                // StatCounter\n                if (typeof sc_project !== 'undefined' && typeof sc_security !== 'undefined') {\n                    var img = new Image();\n                    img.src = '//c.statcounter.com/' + sc_project + '/0/' + sc_security + '/1/';\n                }\n\n                // Quantcast\n                if (typeof _qacct !== 'undefined') {\n                    var img = new Image();\n                    img.src = '//pixel.quantserve.com/pixel/' + _qacct + '.gif';\n                }\n            }\n        }\n\n        var previousIndex = me.currentlyDisplayedSlide;\n        me.currentlyDisplayedSlide = me.currentSlide;\n\n        me.createSlideContentFromSource(me.slides[me.currentSlide]);\n\n        // Change the slide while applying a certain effect/animation.\n        var animationsQueue = tps.transitions[me.options.transitionEffect](me, previousIndex, me.currentlyDisplayedSlide);\n\n        // Execute all \"attachAnimation\" methods before starting any animation.\n        // Otherwise, we might get a race condition when one animation finishes before others are started,\n        // thus triggering unwanted events before all animations have ended.\n        for (var i = 0; i < animationsQueue.length; i++) {\n            me.incrementSemaphore();\n        }\n\n        // This will be called after all animations finish, before any other items in the queue.\n        if (previousIndex !== null) {\n            me.asyncQueue.unshift({name: ''}, function (me, previousIndex) {\n                return function () {\n                    me.onRemovedSlide(previousIndex);\n                }\n            }(me, previousIndex));\n        }\n\n        // Start all animations.\n        for (var i = 0; i < animationsQueue.length; i++) {\n            animationsQueue[i]();\n        }\n    };\n\n    me.createSlideContentFromSource = function (slide) {\n        if (!('content' in slide) && ('source' in slide)) {\n            slide.content = $('<div>').html(slide.source);\n\n            if (false == me.options.useSlideSources) {\n                delete slide.source;\n            }\n        }\n    };\n\n    me.isSlideLoaded = function (index) {\n        if (!(index in me.slides)) {\n            return false;\n        }\n\n        // Only if this isn't the first slide.\n        if (me.currentlyDisplayedSlide !== null && me.options.useSlideSources && !('source' in me.slides[index])) {\n            return false;\n        }\n\n        if (!(('content' in me.slides[index]) || ('source' in me.slides[index]))) {\n            return false;\n        }\n\n        return true;\n    };\n\n    // Function that is called right after a new slide has been added to the DOM, and right before the animation (if available) has started.\n    me.onNewSlide = function () {\n        // \"BJ Lazy Load\" plugin.\n        $(\".lazy-hidden\").not(\".data-lazy-ready\").one(\"scrollin.bj_lazy_load\", {\n            distance: 200\n        }, function () {\n            var b = $(this),\n                d = b.attr(\"data-lazy-type\");\n            if (d == \"image\") {\n                b.hide().attr(\"src\", b.attr(\"data-lazy-src\")).removeClass(\"lazy-hidden\").fadeIn()\n            } else if (d == \"iframe\") {\n                b.replaceWith(c(b.attr(\"data-lazy-src\")))\n            }\n        }).addClass(\"data-lazy-ready\");\n\n        // \"Lazy Load\" plugin.\n        var events = $('body').data('events');\n        if (events && events['post-load']) {\n            for (var i = 0; i < events['post-load'].length; i++) {\n                if (events['post-load'][i].handler.name == 'lazy_load_init') {\n                    events['post-load'][i].handler();\n                }\n            }\n        }\n\n        // WordPress [audio] and [video] shortcodes.\n        if (typeof _wpmejsSettings !== 'undefined') {\n            $('.wp-audio-shortcode, .wp-video-shortcode').mediaelementplayer(_wpmejsSettings);\n        }\n\n        // Instagram embeds.\n        if (typeof instgrm !== 'undefined' && typeof instgrm.Embeds !== 'undefined' && typeof instgrm.Embeds.process !== 'undefined') {\n            instgrm.Embeds.process();\n        }\n\n        // Fire events.\n        try {\n            $(document).trigger('theiaPostSlider.changeSlide', [me.currentSlide]);\n        }\n        catch (e) {\n            console.error(e);\n        }\n    };\n\n    // Function that is called right after a slide has been removed from the DOM.\n    me.onRemovedSlide = function (slideId) {\n        if (me.options.useSlideSources) {\n            me.slides[slideId].content.remove();\n            delete me.slides[slideId].content;\n        }\n\n        // Refresh ads using JavaScript.\n        if (me.options.refreshAds) {\n            me.slidesSinceLastAdRefresh++;\n\n            if (me.slidesSinceLastAdRefresh >= me.options.refreshAdsEveryNSlides) {\n                me.slidesSinceLastAdRefresh = 0;\n\n                if (me.options.adRefreshingMechanism == 'javascript') {\n                    var p = null;\n\n                    if (typeof pubService === 'undefined') {\n                        if (typeof googletag !== 'undefined' && typeof googletag.pubads === 'function') {\n                            p = googletag.pubads();\n                        }\n                    }\n                    else {\n                        p = pubService;\n                    }\n\n                    if (p && typeof p.refresh === 'function') {\n                        p.refresh();\n                    }\n\n                    try {\n                        $(document).trigger('theiaPostSlider.refreshAds');\n                    }\n                    catch (e) {\n                        console.error(e);\n                    }\n                }\n            }\n        }\n    };\n\n    // Update the title text.\n    me.updateTitleText = function () {\n        var shortCodeTitle = me.slides[me.currentSlide].shortCodeTitle;\n        if (!shortCodeTitle) {\n            shortCodeTitle = '<span class=\"_helper\">' + me.options['helperText'] + '</span>';\n        }\n        for (i = 0; i < me.navEl.length; i++) {\n            me.navEl[i].title.html(shortCodeTitle);\n        }\n    };\n\n    // Update the navigation bar's text and buttons.\n    me.updateNavigationBars = function () {\n        for (var i = 0; i < me.navEl.length; i++) {\n            var navEl = me.navEl[i];\n            var navText;\n            if (me.numberOfSlides == 1) {\n                navText = '';\n            }\n            else {\n                navText = me.options.navText;\n                navText = navText.replace('%{currentSlide}', me.currentSlide + 1);\n                navText = navText.replace('%{totalSlides}', me.numberOfSlides);\n            }\n            navEl.text.html(navText);\n\n            // Set number class.\n            navEl.container.addClass('_slide_number_' + me.currentSlide);\n\n            // Set first and last classes.\n            navEl.container.removeClass('_first_slide _last_slide _middle_slide');\n            if (me.currentSlide === 0) {\n                navEl.container.addClass('_first_slide');\n            }\n            else if (me.currentSlide === me.numberOfSlides - 1) {\n                navEl.container.addClass('_last_slide');\n            }\n            else {\n                navEl.container.addClass('_middle_slide');\n            }\n\n            // Update buttons.\n            me.updateNavigationBarButton(navEl, false);\n            me.updateNavigationBarButton(navEl, true);\n        }\n    };\n\n    // Update a button from a navigation bar.\n    me.updateNavigationBarButton = function (navEl, direction) {\n        var width,\n            html1 = '',\n            html2 = '',\n            html3 = '',\n            href,\n            directionName = direction ? 'next' : 'prev',\n            buttonEl = navEl[directionName];\n\n        if (me.options.themeType == 'font') {\n            width = 0;\n            html2 = me.options[directionName + 'FontIcon'];\n\n            if (direction == false) {\n                if (me.options.prevText_post) {\n                    if (me.currentSlide == 0) {\n                        html3 = me.options.prevText_post;\n                    } else {\n                        html3 = me.options.prevText;\n                    }\n                } else {\n                    html3 = me.options.prevText;\n                }\n            } else {\n                if (me.options.nextText_post) {\n                    if (me.currentSlide == me.numberOfSlides - 1) {\n                        html1 = me.options.nextText_post;\n                    } else {\n                        html1 = me.options.nextText;\n                    }\n                } else {\n                    html1 = me.options.nextText;\n                }\n            }\n        } else {\n            width = me.options.buttonWidth;\n\n            if (\n                (direction == false && me.options.prevPost && me.currentSlide == 0) ||\n                (direction == true && me.options.nextPost && me.currentSlide == me.numberOfSlides - 1)\n            ) {\n                html2 = me.options[directionName + 'Text_post'];\n                href = direction ? me.options.nextPost : me.options.prevPost;\n            }\n            else {\n                html2 = me.options[directionName + 'Text'];\n            }\n        }\n\n        // Set link.\n        {\n            var jumpToSlide = null;\n            if (direction == false && me.options.loopSlides && me.currentSlide == 0) {\n                jumpToSlide = me.numberOfSlides - 1;\n            }\n            else if (direction == true && me.options.loopSlides && me.currentSlide == me.numberOfSlides - 1) {\n                jumpToSlide = 0;\n            }\n            else if (\n                (direction == false && me.options.prevPost && me.currentSlide == 0) ||\n                (direction == true && me.options.nextPost && me.currentSlide == me.numberOfSlides - 1)\n            ) {\n                buttonEl.addClass('_another_post');\n                href = direction ? me.options.nextPost : me.options.prevPost;\n            } else {\n                buttonEl.removeClass('_another_post');\n                jumpToSlide = me.currentSlide + (direction ? 1 : -1);\n            }\n\n            if (jumpToSlide !== null) {\n                if (me.needToRefreshPage()) {\n                    var slide = me.slides[jumpToSlide];\n                    if (slide) {\n                        href = slide.permalink;\n                    }\n                }\n                else {\n                    href = '#';\n                }\n            }\n        }\n\n        buttonEl.find('._1').html(html1);\n        buttonEl.find('._2')\n            .css('width', width > 0 ? width : '')\n            .html(html2);\n        buttonEl.find('._3').html(html3);\n\n        // Disable or enable\n        if (\n            (direction == false && me.options.prevPost == null && !me.options.loopSlides && me.currentSlide == 0) ||\n            (direction == true && me.options.nextPost == null && !me.options.loopSlides && me.currentSlide == me.numberOfSlides - 1)\n        ) {\n            buttonEl.addClass('_disabled');\n            href = '#';\n        }\n        else {\n            buttonEl.removeClass('_disabled');\n        }\n\n        buttonEl.attr('href', href);\n    };\n\n    // Handler for previous and next buttons.\n    me.onNavClick = function (that, direction, event) {\n        var $that = $(that);\n\n        if (typeof $that.attr('href') === 'undefined') {\n            return;\n        }\n\n        // Jump to another page.\n        // Some 3rd party plugins misbehave and turn the '#' into '', namely https://github.com/medialize/URI.js with \"Blackout Image Gallery\".\n        if ($that.attr('href') != '#' && $that.attr('href') != '') {\n            me.showLoading();\n            me.saveScrollTop();\n            return;\n        }\n\n        if (direction == 'prev') {\n            me.setPrev();\n        } else {\n            me.setNext();\n        }\n\n        $that.focus();\n        if (event) {\n            event.preventDefault();\n        }\n    };\n\n    me.isHtml5StorageAvailable = function () {\n        try {\n            return 'localStorage' in window && window['localStorage'] !== null;\n        } catch (e) {\n            return false;\n        }\n    };\n\n    me.saveScrollTop = function () {\n        if (!me.options.scrollAfterRefresh) {\n            return;\n        }\n\n        if (!me.isHtml5StorageAvailable) {\n            return;\n        }\n\n        localStorage.setItem('scrollTop', JSON.stringify({\n            postId: me.postId,\n            scrollTop: $(window).scrollTop()\n        }));\n    };\n\n    me.loadScrollTop = function () {\n        if (!me.options.scrollAfterRefresh) {\n            return;\n        }\n\n        if (!me.isHtml5StorageAvailable) {\n            return;\n        }\n\n        var data = JSON.parse(localStorage.getItem('scrollTop'));\n        if (data && data.postId == me.postId) {\n            var scrollTop = Math.min(data.scrollTop, me.slideContainer.offset().top);\n            $(window).scrollTop(scrollTop);\n        }\n\n        localStorage.removeItem('scrollTop');\n    };\n\n    // Go to the previous slide.\n    me.setPrev = function () {\n        if (me.currentSlide == 0) {\n            if (me.options.loopSlides) {\n                me.setSlide(me.numberOfSlides - 1);\n            }\n            else if (me.options.prevPost) {\n                me.showPost(me.options.prevPost);\n            }\n        }\n        else {\n            me.setSlide(me.currentSlide - 1);\n        }\n    };\n\n    // Go to the next slide.\n    me.setNext = function () {\n        if (me.currentSlide == me.numberOfSlides - 1) {\n            if (me.options.loopSlides) {\n                me.setSlide(0);\n            }\n            else if (me.options.nextPost) {\n                me.showPost(me.options.nextPost);\n            }\n        }\n        else {\n            me.setSlide(me.currentSlide + 1);\n        }\n    };\n\n    // Go to another post. This method will be called when navigating using the keyboard shortcuts.\n    me.showPost = function (postUrl) {\n        document.location = postUrl;\n    };\n\n    // Set the transition properties (used in Live Preview).\n    me.setTransition = function (options) {\n        var defaults = {\n            'effect': me.options.transitionEffect,\n            'speed': me.options.transitionSpeed\n        };\n        options = $.extend(defaults, options);\n        me.options.transitionEffect = options.effect;\n        me.options.transitionSpeed = options.speed;\n    };\n\n    // Set the navigation bar's text template (used in Live Preview).\n    me.setNavText = function (text) {\n        me.options.navText = text;\n        me.updateNavigationBars();\n    };\n\n    // Set the title for all slides (used in Live Preview).\n    me.setTitleText = function (text) {\n        for (i = 0; i < me.slides.length; i++) {\n            me.slides[i].shortCodeTitle = '';\n        }\n        me.options.helperText = text;\n        me.updateTitleText();\n    };\n\n    me.showLoading = function () {\n        me.isLoading = true;\n        for (i = 0; i < me.navEl.length; i++) {\n            me.navEl[i].container\n                .append($('<div class=\"_loading\"></div>'))\n                .find('._buttons > a').addClass('_disabled');\n        }\n    };\n\n    me.hideLoading = function () {\n        me.isLoading = false;\n        for (i = 0; i < me.navEl.length; i++) {\n            me.navEl[i].container.find('._loading').remove();\n        }\n        me.updateNavigationBars();\n    };\n\n    me.needToRefreshPage = function () {\n        return (\n            me.currentSlide !== null &&\n            me.options.refreshAds &&\n            me.slidesSinceLastAdRefresh + 1 >= me.options.refreshAdsEveryNSlides &&\n            me.options.adRefreshingMechanism == 'page'\n        );\n    };\n\n    me.addQueryString = function (url) {\n        if (!url) {\n            return url;\n        }\n\n        // Plain permalinks?\n        if (document.location.search.indexOf('?p=') !== -1) {\n            return url;\n        }\n\n        var query = document.location.search.substr(1);\n        if (!query) {\n            return url;\n        }\n\n        if (url.indexOf('?') === -1) {\n            url += '?' + query;\n        } else {\n            url += '&' + query;\n        }\n\n        return url;\n    };\n\n    // Initialize the slider.\n    me.init();\n\n    return me;\n};\n"]}