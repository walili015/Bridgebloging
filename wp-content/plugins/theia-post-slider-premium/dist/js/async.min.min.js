!function(){function c(n){var t=!1;return function(){if(t)throw Error("Callback was already called.");t=!0,n.apply(e,arguments)}}var e,n,p={};null!=(e=this)&&(n=e.async),p.noConflict=function(){return e.async=n,p};function y(n,t){if(n.forEach)return n.forEach(t);for(var e=0;e<n.length;e+=1)t(n[e],e,n)}function a(n,r){if(n.map)return n.map(r);var i=[];return y(n,function(n,t,e){i.push(r(n,t,e))}),i}function d(n){if(Object.keys)return Object.keys(n);var t,e=[];for(t in n)n.hasOwnProperty(t)&&e.push(t);return e}var t=Object.prototype.toString,h=Array.isArray||function(n){return"[object Array]"===t.call(n)};"undefined"!=typeof process&&process.nextTick?(p.nextTick=process.nextTick,p.setImmediate="undefined"!=typeof setImmediate?function(n){setImmediate(n)}:p.nextTick):(p.nextTick="function"==typeof setImmediate?function(n){setImmediate(n)}:function(n){setTimeout(n,0)},p.setImmediate=p.nextTick),p.each=function(t,e,r){function i(n){n?(r(n),r=function(){}):(u+=1)>=t.length&&r()}if(r=r||function(){},!t.length)return r();var u=0;y(t,function(n){e(n,c(i))})},p.forEach=p.each,p.eachSeries=function(t,n,e){if(e=e||function(){},!t.length)return e();var r=0,i=function(){n(t[r],function(n){n?(e(n),e=function(){}):(r+=1)>=t.length?e():i()})};i()},p.forEachSeries=p.eachSeries,p.eachLimit=function(n,t,e,r){l(t).apply(null,[n,e,r])},p.forEachLimit=p.eachLimit;function r(t){return function(){var n=Array.prototype.slice.call(arguments);return t.apply(null,[p.each].concat(n))}}function i(t,e){return function(){var n=Array.prototype.slice.call(arguments);return e.apply(null,[l(t)].concat(n))}}function u(t){return function(){var n=Array.prototype.slice.call(arguments);return t.apply(null,[p.eachSeries].concat(n))}}function o(n,t,i,e){if(t=a(t,function(n,t){return{index:t,value:n}}),e){var u=[];n(t,function(e,r){i(e.value,function(n,t){u[e.index]=t,r(n)})},function(n){e(n,u)})}else n(t,function(n,t){i(n.value,function(n){t(n)})})}var l=function(o){return function(e,n,r){if(r=r||function(){},!e.length||o<=0)return r();var i=0,u=0,c=0;!function t(){if(i>=e.length)return r();for(;c<o&&u<e.length;)c+=1,n(e[(u+=1)-1],function(n){n?(r(n),r=function(){}):(c-=1,(i+=1)>=e.length?r():t())})}()}};p.map=r(o),p.mapSeries=u(o),p.mapLimit=function(n,t,e,r){return i(t,o)(n,e,r)},p.reduce=function(n,r,t,e){p.eachSeries(n,function(n,e){t(r,n,function(n,t){r=t,e(n)})},function(n){e(n,r)})},p.inject=p.reduce,p.foldl=p.reduce,p.reduceRight=function(n,t,e,r){n=a(n,function(n){return n}).reverse(),p.reduce(n,t,e,r)},p.foldr=p.reduceRight;var f=function(n,t,r,e){var i=[];n(t=a(t,function(n,t){return{index:t,value:n}}),function(t,e){r(t.value,function(n){n&&i.push(t),e()})},function(n){e(a(i.sort(function(n,t){return n.index-t.index}),function(n){return n.value}))})};p.filter=r(f),p.filterSeries=u(f),p.select=p.filter,p.selectSeries=p.filterSeries,f=function(n,t,r,e){var i=[];n(t=a(t,function(n,t){return{index:t,value:n}}),function(t,e){r(t.value,function(n){n||i.push(t),e()})},function(n){e(a(i.sort(function(n,t){return n.index-t.index}),function(n){return n.value}))})},p.reject=r(f),p.rejectSeries=u(f),f=function(n,t,r,i){n(t,function(t,e){r(t,function(n){n?(i(t),i=function(){}):e()})},function(n){i()})},p.detect=r(f),p.detectSeries=u(f),p.some=function(n,e,r){p.each(n,function(n,t){e(n,function(n){n&&(r(!0),r=function(){}),t()})},function(n){r(!1)})},p.any=p.some,p.every=function(n,e,r){p.each(n,function(n,t){e(n,function(n){n||(r(!1),r=function(){}),t()})},function(n){r(!0)})},p.all=p.every,p.sortBy=function(n,t,e){p.map(n,function(e,r){t(e,function(n,t){n?r(n):r(null,{value:e,criteria:t})})},function(n,t){if(n)return e(n);e(null,a(t.sort(function(n,t){var e=n.criteria,r=t.criteria;return e<r?-1:r<e?1:0}),function(n){return n.value}))})},p.auto=function(t,o){o=o||function(){};var n=d(t),e=n.length;if(!e)return o();function a(n){s.unshift(n)}function l(){e--,y(s.slice(0),function(n){n()})}var f={},s=[];a(function(){if(!e){var n=o;o=function(){},n(null,f)}}),y(n,function(r){function e(n){var t=Array.prototype.slice.call(arguments,1);if(t.length<=1&&(t=t[0]),n){var e={};y(d(f),function(n){e[n]=f[n]}),e[r]=t,o(n,e),o=function(){}}else f[r]=t,p.setImmediate(l)}function i(){return function(n,r,i){return n.reduce?n.reduce(r,i):(y(n,function(n,t,e){i=r(i,n,t,e)}),i)}(n,function(n,t){return n&&f.hasOwnProperty(t)},!0)&&!f.hasOwnProperty(r)}var u=h(t[r])?t[r]:[t[r]],n=u.slice(0,Math.abs(u.length-1))||[];if(i())u[u.length-1](e,f);else{var c=function(){if(i()){n:for(var n=c,t=0;t<s.length;t+=1)if(s[t]===n){s.splice(t,1);break n}u[u.length-1](e,f)}};a(c)}})},p.retry=function(r,i,u){var c=[];"function"==typeof r&&(u=i,i=r,r=5),r=parseInt(r,10)||5;function n(e,t){function n(n,r){return function(e){n(function(n,t){e(!n||r,{err:n,result:t})},t)}}for(;r;)c.push(n(i,!(r-=1)));p.series(c,function(n,t){t=t[t.length-1],(e||u)(t.err,t.result)})}return u?n():n},p.waterfall=function(n,i){if(i=i||function(){},!h(n))return i(Error("First argument to waterfall must be an array of functions"));if(!n.length)return i();var u=function(r){return function(n){if(n)i.apply(null,arguments),i=function(){};else{var t=Array.prototype.slice.call(arguments,1),e=r.next();e?t.push(u(e)):t.push(i),p.setImmediate(function(){r.apply(null,t)})}}};u(p.iterator(n))()};function s(n,t,e){if(e=e||function(){},h(t))n.map(t,function(n,e){n&&n(function(n){var t=Array.prototype.slice.call(arguments,1);t.length<=1&&(t=t[0]),e.call(null,n,t)})},e);else{var i={};n.each(d(t),function(e,r){t[e](function(n){var t=Array.prototype.slice.call(arguments,1);t.length<=1&&(t=t[0]),i[e]=t,r(n)})},function(n){e(n,i)})}}p.parallel=function(n,t){s({map:p.map,each:p.each},n,t)},p.parallelLimit=function(n,t,e){s({map:i(t,o),each:l(t)},n,e)},p.series=function(n,t){if(t=t||function(){},h(n))p.mapSeries(n,function(n,e){n&&n(function(n){var t=Array.prototype.slice.call(arguments,1);t.length<=1&&(t=t[0]),e.call(null,n,t)})},t);else{var i={};p.eachSeries(d(n),function(e,r){n[e](function(n){var t=Array.prototype.slice.call(arguments,1);t.length<=1&&(t=t[0]),i[e]=t,r(n)})},function(n){t(n,i)})}},p.iterator=function(e){var r=function(n){var t=function(){return e.length&&e[n].apply(null,arguments),t.next()};return t.next=function(){return n<e.length-1?r(n+1):null},t};return r(0)},p.apply=function(n){var t=Array.prototype.slice.call(arguments,1);return function(){return n.apply(null,t.concat(Array.prototype.slice.call(arguments)))}},f=function(n,t,r,e){var i=[];n(t,function(n,e){r(n,function(n,t){i=i.concat(t||[]),e(n)})},function(n){e(n,i)})},p.concat=r(f),p.concatSeries=u(f),p.whilst=function(t,e,r){t()?e(function(n){if(n)return r(n);p.whilst(t,e,r)}):r()},p.doWhilst=function(e,r,i){e(function(n){if(n)return i(n);var t=Array.prototype.slice.call(arguments,1);r.apply(null,t)?p.doWhilst(e,r,i):i()})},p.until=function(t,e,r){t()?r():e(function(n){if(n)return r(n);p.until(t,e,r)})},p.doUntil=function(e,r,i){e(function(n){if(n)return i(n);var t=Array.prototype.slice.call(arguments,1);r.apply(null,t)?i():p.doUntil(e,r,i)})},p.queue=function(e,n){function r(t,n,e,r){if(t.started||(t.started=!0),h(n)||(n=[n]),0==n.length)return p.setImmediate(function(){t.drain&&t.drain()});y(n,function(n){n={data:n,callback:"function"==typeof r?r:null},e?t.tasks.unshift(n):t.tasks.push(n),t.saturated&&t.tasks.length===t.concurrency&&t.saturated(),p.setImmediate(t.process)})}void 0===n&&(n=1);var i=0,u={tasks:[],concurrency:n,saturated:null,empty:null,drain:null,started:!1,paused:!1,push:function(n,t){r(u,n,!1,t)},kill:function(){u.drain=null,u.tasks=[]},unshift:function(n,t){r(u,n,!0,t)},process:function(){if(!u.paused&&i<u.concurrency&&u.tasks.length){var n=u.tasks.shift();u.empty&&0===u.tasks.length&&u.empty(),i+=1;var t=c(function(){i-=1,n.callback&&n.callback.apply(n,arguments),u.drain&&0===u.tasks.length+i&&u.drain(),u.process()});e(n.data,t)}},length:function(){return u.tasks.length},running:function(){return i},idle:function(){return 0===u.tasks.length+i},pause:function(){!0!==u.paused&&(u.paused=!0)},resume:function(){if(!1!==u.paused){u.paused=!1;for(var n=1;n<=u.concurrency;n++)p.setImmediate(u.process)}}};return u},p.priorityQueue=function(n,t){function i(n,t){return n.priority-t.priority}function r(t,n,e,r){if(t.started||(t.started=!0),h(n)||(n=[n]),0==n.length)return p.setImmediate(function(){t.drain&&t.drain()});y(n,function(n){n={data:n,priority:e,callback:"function"==typeof r?r:null},t.tasks.splice(function(n,t,e){for(var r=-1,i=n.length-1;r<i;){var u=r+(i-r+1>>>1);0<=e(t,n[u])?r=u:i=u-1}return r}(t.tasks,n,i)+1,0,n),t.saturated&&t.tasks.length===t.concurrency&&t.saturated(),p.setImmediate(t.process)})}var u=p.queue(n,t);return u.push=function(n,t,e){r(u,n,t,e)},delete u.unshift,u},p.cargo=function(r,i){var u=!1,c=[],o={tasks:c,payload:i,saturated:null,empty:null,drain:null,drained:!0,push:function(n,t){h(n)||(n=[n]),y(n,function(n){c.push({data:n,callback:"function"==typeof t?t:null}),o.drained=!1,o.saturated&&c.length===i&&o.saturated()}),p.setImmediate(o.process)},process:function n(){if(!u)if(0===c.length)o.drain&&!o.drained&&o.drain(),o.drained=!0;else{var e="number"==typeof i?c.splice(0,i):c.splice(0,c.length),t=a(e,function(n){return n.data});o.empty&&o.empty(),u=!0,r(t,function(){u=!1;var t=arguments;y(e,function(n){n.callback&&n.callback.apply(null,t)}),n()})}},length:function(){return c.length},running:function(){return u}};return o},f=function(e){return function(n){var t=Array.prototype.slice.call(arguments,1);n.apply(null,t.concat([function(n){var t=Array.prototype.slice.call(arguments,1);"undefined"!=typeof console&&(n?console.error&&console.error(n):console[e]&&y(t,function(n){console[e](n)}))}]))}},p.log=f("log"),p.dir=f("dir"),p.memoize=function(e,i){var u={},c={};i=i||function(n){return n};function n(){var n=Array.prototype.slice.call(arguments),t=n.pop(),r=i.apply(null,n);r in u?p.nextTick(function(){t.apply(null,u[r])}):r in c?c[r].push(t):(c[r]=[t],e.apply(null,n.concat([function(){u[r]=arguments;var n=c[r];delete c[r];for(var t=0,e=n.length;t<e;t++)n[t].apply(null,arguments)}])))}return n.memo=u,n.unmemoized=e,n},p.unmemoize=function(n){return function(){return(n.unmemoized||n).apply(null,arguments)}},p.times=function(n,t,e){for(var r=[],i=0;i<n;i++)r.push(i);return p.map(r,t,e)},p.timesSeries=function(n,t,e){for(var r=[],i=0;i<n;i++)r.push(i);return p.mapSeries(r,t,e)},p.seq=function(){var t=arguments;return function(){var r=this,n=Array.prototype.slice.call(arguments),e=n.pop();p.reduce(t,n,function(n,t,e){t.apply(r,n.concat([function(){var n=arguments[0],t=Array.prototype.slice.call(arguments,1);e(n,t)}]))},function(n,t){e.apply(r,[n].concat(t))})}},p.compose=function(){return p.seq.apply(null,Array.prototype.reverse.call(arguments))},f=function(t,i){function n(){var e=this,r=Array.prototype.slice.call(arguments),n=r.pop();return t(i,function(n,t){n.apply(e,r.concat([t]))},n)}if(2<arguments.length){var e=Array.prototype.slice.call(arguments,2);return n.apply(this,e)}return n},p.applyEach=r(f),p.applyEachSeries=u(f),p.forever=function(e,r){!function n(t){if(t){if(r)return r(t);throw t}e(n)}()},"undefined"!=typeof module&&module.exports?module.exports=p:"undefined"!=typeof define&&define.amd?define([],function(){return p}):e.async=p}();
//# sourceMappingURL=sourcemaps/async.min.min.js.map
